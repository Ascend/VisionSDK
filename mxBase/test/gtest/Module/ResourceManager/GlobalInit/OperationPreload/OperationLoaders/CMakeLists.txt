set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${PROJECT_SOURCE_DIR}/dist/Module/ResourceManager)
include_directories(${PROJECT_SOURCE_DIR}/../../src/mxbase)

set(TARGET_EXECUTABLE "OpLoaderTest")
file(GLOB_RECURSE SOURCE_FILES ${PROJECT_SOURCE_DIR}/Module/ResourceManager/GlobalInit/OperationPreload/OperationLoaders/OpLoaderTest.cpp)
add_executable(${TARGET_EXECUTABLE} ${SOURCE_FILES})
target_link_libraries(${TARGET_EXECUTABLE} mxbase gtest mockcpp -pthread)
add_test(NAME ${TARGET_EXECUTABLE}
        COMMAND ${TARGET_EXECUTABLE} --gtest_output=xml
        WORKING_DIRECTORY ${CMAKE_RUNTIME_OUTPUT_DIRECTORY})

set(TARGET_EXECUTABLE_OPLOADERCOMPARE "OpLoaderCompareTest")
file(GLOB_RECURSE SOURCE_FILES_OPLOADERCOMPARE ${PROJECT_SOURCE_DIR}/Module/ResourceManager/GlobalInit/OperationPreload/OperationLoaders/OpLoaderCompareTest.cpp)
add_executable(${TARGET_EXECUTABLE_OPLOADERCOMPARE} ${SOURCE_FILES_OPLOADERCOMPARE})
target_link_libraries(${TARGET_EXECUTABLE_OPLOADERCOMPARE} mxbase gtest mockcpp)
add_test(NAME ${TARGET_EXECUTABLE_OPLOADERCOMPARE}
        COMMAND ${TARGET_EXECUTABLE_OPLOADERCOMPARE} --gtest_output=xml
        WORKING_DIRECTORY ${CMAKE_RUNTIME_OUTPUT_DIRECTORY})

set(TARGET_EXECUTABLE_OPLOADERROTATE "OpLoaderRotateTest")
file(GLOB_RECURSE SOURCE_FILES_OPLOADERROTATE ${PROJECT_SOURCE_DIR}/Module/ResourceManager/GlobalInit/OperationPreload/OperationLoaders/OpLoaderRotateTest.cpp)
add_executable(${TARGET_EXECUTABLE_OPLOADERROTATE} ${SOURCE_FILES_OPLOADERROTATE})
target_link_libraries(${TARGET_EXECUTABLE_OPLOADERROTATE} mxbase gtest mockcpp)
add_test(NAME ${TARGET_EXECUTABLE_OPLOADERROTATE}
        COMMAND ${TARGET_EXECUTABLE_OPLOADERROTATE} --gtest_output=xml
        WORKING_DIRECTORY ${CMAKE_RUNTIME_OUTPUT_DIRECTORY})

set(TARGET_EXECUTABLE_OPLOADERCONVERTTO "OpLoaderConvertToTest")
file(GLOB_RECURSE SOURCE_FILES_OPLOADERCONVERTTO ${PROJECT_SOURCE_DIR}/Module/ResourceManager/GlobalInit/OperationPreload/OperationLoaders/OpLoaderConvertToTest.cpp)
add_executable(${TARGET_EXECUTABLE_OPLOADERCONVERTTO} ${SOURCE_FILES_OPLOADERCONVERTTO})
target_link_libraries(${TARGET_EXECUTABLE_OPLOADERCONVERTTO} mxbase gtest mockcpp)
add_test(NAME ${TARGET_EXECUTABLE_OPLOADERCONVERTTO}
        COMMAND ${TARGET_EXECUTABLE_OPLOADERCONVERTTO} --gtest_output=xml
        WORKING_DIRECTORY ${CMAKE_RUNTIME_OUTPUT_DIRECTORY})

set(TARGET_EXECUTABLE_OPLOADERDIVIDE "OpLoaderDivideTest")
file(GLOB_RECURSE SOURCE_FILES_OPLOADERDIVIDE ${PROJECT_SOURCE_DIR}/Module/ResourceManager/GlobalInit/OperationPreload/OperationLoaders/OpLoaderDivideTest.cpp)
add_executable(${TARGET_EXECUTABLE_OPLOADERDIVIDE} ${SOURCE_FILES_OPLOADERDIVIDE})
target_link_libraries(${TARGET_EXECUTABLE_OPLOADERDIVIDE} mxbase gtest mockcpp)
add_test(NAME ${TARGET_EXECUTABLE_OPLOADERDIVIDE}
        COMMAND ${TARGET_EXECUTABLE_OPLOADERDIVIDE} --gtest_output=xml
        WORKING_DIRECTORY ${CMAKE_RUNTIME_OUTPUT_DIRECTORY})

set(TARGET_EXECUTABLE_OPLOADERHSTACK "OpLoaderHstackTest")
file(GLOB_RECURSE SOURCE_FILES_OPLOADERHSTACK ${PROJECT_SOURCE_DIR}/Module/ResourceManager/GlobalInit/OperationPreload/OperationLoaders/OpLoaderHstackTest.cpp)
add_executable(${TARGET_EXECUTABLE_OPLOADERHSTACK} ${SOURCE_FILES_OPLOADERHSTACK})
target_link_libraries(${TARGET_EXECUTABLE_OPLOADERHSTACK} mxbase gtest mockcpp)
add_test(NAME ${TARGET_EXECUTABLE_OPLOADERHSTACK}
        COMMAND ${TARGET_EXECUTABLE_OPLOADERHSTACK} --gtest_output=xml
        WORKING_DIRECTORY ${CMAKE_RUNTIME_OUTPUT_DIRECTORY})

set(TARGET_EXECUTABLE_OPLOADERMERGE "OpLoaderMergeTest")
file(GLOB_RECURSE SOURCE_FILES_OPLOADERMERGE ${PROJECT_SOURCE_DIR}/Module/ResourceManager/GlobalInit/OperationPreload/OperationLoaders/OpLoaderMergeTest.cpp)
add_executable(${TARGET_EXECUTABLE_OPLOADERMERGE} ${SOURCE_FILES_OPLOADERMERGE})
target_link_libraries(${TARGET_EXECUTABLE_OPLOADERMERGE} mxbase gtest mockcpp)
add_test(NAME ${TARGET_EXECUTABLE_OPLOADERMERGE}
        COMMAND ${TARGET_EXECUTABLE_OPLOADERMERGE} --gtest_output=xml
        WORKING_DIRECTORY ${CMAKE_RUNTIME_OUTPUT_DIRECTORY})
        

set(TARGET_EXECUTABLE_OPLOADERMULTIPLY "OpLoaderMultiplyTest")
file(GLOB_RECURSE SOURCE_FILES_OPLOADERMULTIPLY ${PROJECT_SOURCE_DIR}/Module/ResourceManager/GlobalInit/OperationPreload/OperationLoaders/OpLoaderMultiplyTest.cpp)
add_executable(${TARGET_EXECUTABLE_OPLOADERMULTIPLY} ${SOURCE_FILES_OPLOADERMULTIPLY})
target_link_libraries(${TARGET_EXECUTABLE_OPLOADERMULTIPLY} mxbase gtest mockcpp)
add_test(NAME ${TARGET_EXECUTABLE_OPLOADERMULTIPLY}
        COMMAND ${TARGET_EXECUTABLE_OPLOADERMULTIPLY} --gtest_output=xml
        WORKING_DIRECTORY ${CMAKE_RUNTIME_OUTPUT_DIRECTORY})


set(TARGET_EXECUTABLE_OPLOADERREDUCE "OpLoaderReduceTest")
file(GLOB_RECURSE SOURCE_FILES_OPLOADERREDUCE ${PROJECT_SOURCE_DIR}/Module/ResourceManager/GlobalInit/OperationPreload/OperationLoaders/OpLoaderReduceTest.cpp)
add_executable(${TARGET_EXECUTABLE_OPLOADERREDUCE} ${SOURCE_FILES_OPLOADERREDUCE})
target_link_libraries(${TARGET_EXECUTABLE_OPLOADERREDUCE} mxbase gtest mockcpp)
add_test(NAME ${TARGET_EXECUTABLE_OPLOADERREDUCE}
        COMMAND ${TARGET_EXECUTABLE_OPLOADERREDUCE} --gtest_output=xml
        WORKING_DIRECTORY ${CMAKE_RUNTIME_OUTPUT_DIRECTORY})

set(TARGET_EXECUTABLE_OPLOADERSORT "OpLoaderSortTest")
file(GLOB_RECURSE SOURCE_FILES_OPLOADERSORT ${PROJECT_SOURCE_DIR}/Module/ResourceManager/GlobalInit/OperationPreload/OperationLoaders/OpLoaderSortTest.cpp)
add_executable(${TARGET_EXECUTABLE_OPLOADERSORT} ${SOURCE_FILES_OPLOADERSORT})
target_link_libraries(${TARGET_EXECUTABLE_OPLOADERSORT} mxbase gtest mockcpp)
add_test(NAME ${TARGET_EXECUTABLE_OPLOADERSORT}
        COMMAND ${TARGET_EXECUTABLE_OPLOADERSORT} --gtest_output=xml
        WORKING_DIRECTORY ${CMAKE_RUNTIME_OUTPUT_DIRECTORY})

set(TARGET_EXECUTABLE_OPLOADERSORTIDX "OpLoaderSortIdxTest")
file(GLOB_RECURSE SOURCE_FILES_OPLOADERSORTIDX ${PROJECT_SOURCE_DIR}/Module/ResourceManager/GlobalInit/OperationPreload/OperationLoaders/OpLoaderSortIdxTest.cpp)
add_executable(${TARGET_EXECUTABLE_OPLOADERSORTIDX} ${SOURCE_FILES_OPLOADERSORTIDX})
target_link_libraries(${TARGET_EXECUTABLE_OPLOADERSORTIDX} mxbase gtest mockcpp)
add_test(NAME ${TARGET_EXECUTABLE_OPLOADERSORTIDX}
        COMMAND ${TARGET_EXECUTABLE_OPLOADERSORTIDX} --gtest_output=xml
        WORKING_DIRECTORY ${CMAKE_RUNTIME_OUTPUT_DIRECTORY})

set(TARGET_EXECUTABLE_JSONOBJECT "JsonObjectTest")
file(GLOB_RECURSE SOURCE_FILES_JSONOBJECT ${PROJECT_SOURCE_DIR}/Module/ResourceManager/GlobalInit/OperationPreload/OperationLoaders/JsonObjectTest.cpp)
add_executable(${TARGET_EXECUTABLE_JSONOBJECT} ${SOURCE_FILES_JSONOBJECT})
target_link_libraries(${TARGET_EXECUTABLE_JSONOBJECT} mxbase gtest mockcpp)
add_test(NAME ${TARGET_EXECUTABLE_JSONOBJECT}
       COMMAND ${TARGET_EXECUTABLE_JSONOBJECT} --gtest_output=xml
       WORKING_DIRECTORY ${CMAKE_RUNTIME_OUTPUT_DIRECTORY})

set(TARGET_EXECUTABLE_OPLOADERSPLIT "OpLoaderSplitTest")
file(GLOB_RECURSE SOURCE_FILES_OPLOADERSPLIT ${PROJECT_SOURCE_DIR}/Module/ResourceManager/GlobalInit/OperationPreload/OperationLoaders/OpLoaderSplitTest.cpp)
add_executable(${TARGET_EXECUTABLE_OPLOADERSPLIT} ${SOURCE_FILES_OPLOADERSPLIT})
target_link_libraries(${TARGET_EXECUTABLE_OPLOADERSPLIT} mxbase gtest mockcpp)
add_test(NAME ${TARGET_EXECUTABLE_OPLOADERSPLIT}
       COMMAND ${TARGET_EXECUTABLE_OPLOADERSPLIT} --gtest_output=xml
       WORKING_DIRECTORY ${CMAKE_RUNTIME_OUTPUT_DIRECTORY})

set(TARGET_EXECUTABLE_OPLOADERTILE "OpLoaderTileTest")
file(GLOB_RECURSE SOURCE_FILES_OPLOADERTILE ${PROJECT_SOURCE_DIR}/Module/ResourceManager/GlobalInit/OperationPreload/OperationLoaders/OpLoaderTileTest.cpp)
add_executable(${TARGET_EXECUTABLE_OPLOADERTILE} ${SOURCE_FILES_OPLOADERTILE})
target_link_libraries(${TARGET_EXECUTABLE_OPLOADERTILE} mxbase gtest mockcpp)
add_test(NAME ${TARGET_EXECUTABLE_OPLOADERTILE}
       COMMAND ${TARGET_EXECUTABLE_OPLOADERTILE} --gtest_output=xml
       WORKING_DIRECTORY ${CMAKE_RUNTIME_OUTPUT_DIRECTORY})

set(TARGET_EXECUTABLE_OPLOADERTRANSPOSE "OpLoaderTransposeTest")
file(GLOB_RECURSE SOURCE_FILES_OPLOADERTRANSPOSE ${PROJECT_SOURCE_DIR}/Module/ResourceManager/GlobalInit/OperationPreload/OperationLoaders/OpLoaderTransposeTest.cpp)
add_executable(${TARGET_EXECUTABLE_OPLOADERTRANSPOSE} ${SOURCE_FILES_OPLOADERTRANSPOSE})
target_link_libraries(${TARGET_EXECUTABLE_OPLOADERTRANSPOSE} mxbase gtest mockcpp)
add_test(NAME ${TARGET_EXECUTABLE_OPLOADERTRANSPOSE}
        COMMAND ${TARGET_EXECUTABLE_OPLOADERTRANSPOSE} --gtest_output=xml
        WORKING_DIRECTORY ${CMAKE_RUNTIME_OUTPUT_DIRECTORY})

set(TARGET_EXECUTABLE_OPLOADERVSTACK "OpLoaderVstackTest")
file(GLOB_RECURSE SOURCE_FILES_OPLOADERVSTACK ${PROJECT_SOURCE_DIR}/Module/ResourceManager/GlobalInit/OperationPreload/OperationLoaders/OpLoaderVstackTest.cpp)
add_executable(${TARGET_EXECUTABLE_OPLOADERVSTACK} ${SOURCE_FILES_OPLOADERVSTACK})
target_link_libraries(${TARGET_EXECUTABLE_OPLOADERVSTACK} mxbase gtest mockcpp)
add_test(NAME ${TARGET_EXECUTABLE_OPLOADERVSTACK}
        COMMAND ${TARGET_EXECUTABLE_OPLOADERVSTACK} --gtest_output=xml
        WORKING_DIRECTORY ${CMAKE_RUNTIME_OUTPUT_DIRECTORY})
